def make_ext(modname, pyxfilename):
    from distutils.extension import Extension
    import platform
    sysstr = platform.system()
    if sysstr == "Windows":
        return Extension(name=modname,
                         sources=[pyxfilename],
                         extra_compile_args=['/O2', '/Oi'])
    elif sysstr == "Linux":
        return Extension(name=modname,
                         sources=[pyxfilename],
                         extra_compile_args=['-O3', '-march=native'])
